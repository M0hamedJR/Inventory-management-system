"use strict";(self.webpackChunkInventory=self.webpackChunkInventory||[]).push([[76],{9331:(_,g,a)=>{a.d(g,{S:()=>D});var e=a(9417),l=a(8659),t=a(4438),d=a(1682);let p=(()=>{class r{constructor(){this.validateConfirmPassword=c=>i=>{const o=i.value;return""===o?{required:!0}:o!==c.value?{mustMatch:!0}:null}}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var v=a(8498),m=a(1620),s=a(177),n=a(7421),U=a(2788),C=a(1818),T=a(5484),F=a(2920);function I(r,f){if(1&r&&(t.j41(0,"div",13),t.nrm(1,"span",14),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("innerHTML",c.errorMessage,t.npT)}}function R(r,f){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"First Name is required"),t.k0s())}function M(r,f){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"Last Name is required"),t.k0s())}function b(r,f){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"Email is required"),t.k0s())}function N(r,f){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"Please provide a valid email"),t.k0s())}function w(r,f){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"Password is required"),t.k0s())}function y(r,f){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"Confirmation is required"),t.k0s())}function j(r,f){1&r&&(t.j41(0,"mat-error"),t.EFF(1,"Passwords must match"),t.k0s())}let D=(()=>{class r{constructor(c,i,o,E){this.authService=c,this.passConfValidator=i,this.router=o,this.modal=E,this.errorMessage="",this.validateControl=h=>this.registerForm.get(h).invalid&&this.registerForm.get(h).touched,this.hasError=(h,u)=>this.registerForm.get(h).hasError(u),this.registerUser=h=>{this.showError=!1;const u={...h};this.authService.registerUser("api/accounts/registration",{firstName:u.firstName,lastName:u.lastName,userName:u.email,email:u.email,password:u.password,confirmPassword:u.confirm}).subscribe({next:k=>{this.bsModalRef=this.modal.show(l.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"user created successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(P=>this.redirectToUser())},error:k=>{this.errorMessage=k.message,this.showError=!0}})},this.redirectToUser=()=>{this.router.navigate(["/ui-components/user"])}}ngOnInit(){this.registerForm=new e.gE({firstName:new e.MJ(""),lastName:new e.MJ(""),email:new e.MJ("",[e.k0.required,e.k0.email]),password:new e.MJ("",[e.k0.required]),confirm:new e.MJ("")}),this.registerForm.get("confirm").setValidators([e.k0.required,this.passConfValidator.validateConfirmPassword(this.registerForm.get("password"))])}static#t=this.\u0275fac=function(i){return new(i||r)(t.rXU(d.k),t.rXU(p),t.rXU(v.Ix),t.rXU(m.I8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-add-user"]],decls:30,vars:10,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["class","alert alert-danger","role","alert",4,"ngIf"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","First Name","formControlName","firstName","id","firstName"],[4,"ngIf"],["matInput","","type","text","placeholder","Last Name","formControlName","lastName","id","lastName"],["matInput","","type","email","placeholder","Email","formControlName","email","id","email"],["matInput","","type","password","placeholder","Password","formControlName","password","id","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirm","id","confirm"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"],["role","alert",1,"alert","alert-danger"],[3,"innerHTML"]],template:function(i,o){1&i&&(t.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"Register"),t.k0s()(),t.j41(5,"form",2),t.bIt("ngSubmit",function(){return o.registerUser(o.registerForm.value)}),t.j41(6,"mat-card-content"),t.DNE(7,I,2,1,"div",3),t.j41(8,"mat-form-field",4),t.nrm(9,"input",5),t.DNE(10,R,2,0,"mat-error",6),t.k0s(),t.j41(11,"mat-form-field",4),t.nrm(12,"input",7),t.DNE(13,M,2,0,"mat-error",6),t.k0s(),t.j41(14,"mat-form-field",4),t.nrm(15,"input",8),t.DNE(16,b,2,0,"mat-error",6)(17,N,2,0,"mat-error",6),t.k0s(),t.j41(18,"mat-form-field",4),t.nrm(19,"input",9),t.DNE(20,w,2,0,"mat-error",6),t.k0s(),t.j41(21,"mat-form-field",4),t.nrm(22,"input",10),t.DNE(23,y,2,0,"mat-error",6)(24,j,2,0,"mat-error",6),t.k0s()(),t.j41(25,"mat-card-actions")(26,"button",11),t.EFF(27,"Register"),t.k0s(),t.j41(28,"button",12),t.bIt("click",function(){return o.redirectToUser()}),t.EFF(29,"Cancel"),t.k0s()()()()()),2&i&&(t.R7$(5),t.Y8G("formGroup",o.registerForm),t.R7$(2),t.Y8G("ngIf",o.showError),t.R7$(3),t.Y8G("ngIf",o.validateControl("firstName")&&o.hasError("firstName","required")),t.R7$(3),t.Y8G("ngIf",o.validateControl("lastName")&&o.hasError("lastName","required")),t.R7$(3),t.Y8G("ngIf",o.validateControl("email")&&o.hasError("email","required")),t.R7$(),t.Y8G("ngIf",o.validateControl("email")&&o.hasError("email","email")),t.R7$(3),t.Y8G("ngIf",o.validateControl("password")&&o.hasError("password","required")),t.R7$(3),t.Y8G("ngIf",o.validateControl("confirm")&&o.hasError("confirm","required")),t.R7$(),t.Y8G("ngIf",o.hasError("confirm","mustMatch")),t.R7$(2),t.Y8G("disabled",!o.registerForm.valid))},dependencies:[s.bT,n.rl,n.TL,U.fg,C.RN,C.YY,C.m2,C.MM,C.dh,T.$z,F.DJ,F.sA,F.UI,e.qT,e.me,e.BC,e.cb,e.j4,e.JD],encapsulation:2})}return r})()},8659:(_,g,a)=>{a.d(g,{c:()=>t});var e=a(4438),l=a(1620);let t=(()=>{class d{constructor(v){this.bsModalRef=v,this.redirectOnOk=new e.bkB,this.onOkClicked=()=>{this.redirectOnOk.emit(),this.bsModalRef.hide()}}ngOnInit(){}static#t=this.\u0275fac=function(m){return new(m||d)(e.rXU(l.Y$))};static#e=this.\u0275cmp=e.VBU({type:d,selectors:[["app-success-modal"]],decls:11,vars:3,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"]],template:function(m,s){1&m&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return s.onOkClicked()}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4),e.EFF(7),e.k0s(),e.j41(8,"div",5)(9,"button",6),e.bIt("click",function(){return s.onOkClicked()}),e.EFF(10),e.k0s()()),2&m&&(e.R7$(2),e.JRh(s.modalHeaderText),e.R7$(5),e.SpI(" ",s.modalBodyText,"\n"),e.R7$(3),e.JRh(s.okButtonText))}})}return d})()},958:(_,g,a)=>{a.d(g,{U:()=>d});var e=a(1626),l=a(5312),t=a(4438);let d=(()=>{class p{constructor(m){this.http=m,this.getData=s=>this.http.get(this.createCompleteRoute(s,l.c.apiUrl)),this.create=(s,n)=>this.http.post(this.createCompleteRoute(s,l.c.apiUrl),n,this.generateHeaders()),this.createWithData=s=>this.http.post(this.createCompleteRoute(s,l.c.apiUrl),this.generateHeaders()),this.update=(s,n)=>this.http.put(this.createCompleteRoute(s,l.c.apiUrl),n,this.generateHeaders()),this.delete=s=>this.http.delete(this.createCompleteRoute(s,l.c.apiUrl)),this.createCompleteRoute=(s,n)=>`${n}/${s}`,this.generateHeaders=()=>({headers:new e.Lr({"Content-Type":"application/json"})})}static#t=this.\u0275fac=function(s){return new(s||p)(t.KVO(e.Qq))};static#e=this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);