"use strict";(self.webpackChunkInventory=self.webpackChunkInventory||[]).push([[56],{8056:(R,g,o)=>{o.r(g),o.d(g,{AuthenticationModule:()=>x});var m=o(8498),p=o(177),f=o(9308),d=o(1818),v=o(2788),b=o(1351),u=o(5484),i=o(9417),F=o(4912),w=o(5509),t=o(4438),y=o(1682),h=o(7421);const S=()=>["/authentication/register-user"];function E(n,U){1&n&&(t.j41(0,"div",17)(1,"mat-error"),t.EFF(2,"Email or Password incorrect"),t.k0s()())}const C=[{path:"",children:[{path:"login",component:(()=>{class n{constructor(a,e,r){this.authService=a,this.router=e,this.route=r,this.errorMessage="",this.hidePassword=!0,this.validateControl=s=>this.loginForm.get(s).invalid&&this.loginForm.get(s).touched,this.hasError=(s,l)=>this.loginForm.get(s).hasError(l),this.loginUser=s=>{this.showError=!1;const l={...s};this.authService.loginUser("api/accounts/login",{email:l.username,password:l.password,clientURI:"http://localhost:4200/authentication/forgotpassword"}).subscribe({next:c=>{localStorage.setItem("token",c.token),this.authService.sendAuthStateChangeNotification(c.isAuthSuccessful),this.router.navigate([this.returnUrl])},error:c=>{this.errorMessage=c.message,this.showError=!0}})}}ngOnInit(){this.loginForm=new i.gE({username:new i.MJ("",[i.k0.required]),password:new i.MJ("",[i.k0.required])}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}togglePasswordVisibility(a){a.preventDefault(),this.hidePassword=!this.hidePassword}static#t=this.\u0275fac=function(e){return new(e||n)(t.rXU(y.k),t.rXU(m.Ix),t.rXU(m.nX))};static#o=this.\u0275cmp=t.VBU({type:n,selectors:[["app-login"]],decls:28,vars:7,consts:[[1,"blank-layout-container","d-flex","justify-content-center","align-items-center",2,"height","100vh","position","relative","background-color","#095eb2"],[1,"position-relative","w-100","h-100",2,"position","relative","width","100%","height","100%"],[1,"position-absolute",2,"top","50%","left","50%","transform","translate(-50%, -50%)","width","100%","max-width","400px","z-index","10"],[1,"cardWithShadow","boxed-auth",2,"box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)","border-radius","12px"],[2,"padding","1.5rem"],[1,"text-center","mb-3"],["src","../../../../assets/images/logos/invMange.png","alt","logo",2,"height","100px"],["class","error-message",4,"ngIf"],[2,"color","#0313d5","text-align","center","margin-bottom","1rem"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100",2,"margin-bottom","1rem"],["matInput","","type","text","formControlName","username",2,"color","black"],["matInput","","formControlName","password",2,"color","black",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"d-flex","justify-content-end",2,"margin-bottom","1rem"],[2,"color","#007bff","text-decoration","none","font-weight","600",3,"routerLink"],["mat-flat-button","","color","primary","type","submit",1,"w-100",2,"background-color","#007bff","color","white","font-weight","600",3,"disabled"],[1,"error-message"]],template:function(e,r){1&e&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"div",5)(6,"a"),t.nrm(7,"img",6),t.k0s()(),t.DNE(8,E,3,0,"div",7),t.j41(9,"mat-card-title",8),t.EFF(10," Log in "),t.k0s(),t.j41(11,"form",9),t.bIt("ngSubmit",function(){return r.loginUser(r.loginForm.value)}),t.j41(12,"mat-form-field",10)(13,"mat-label"),t.EFF(14,"Email"),t.k0s(),t.nrm(15,"input",11),t.k0s(),t.j41(16,"mat-form-field",10)(17,"mat-label"),t.EFF(18,"Password"),t.k0s(),t.nrm(19,"input",12),t.j41(20,"button",13),t.bIt("click",function(l){return r.togglePasswordVisibility(l)}),t.j41(21,"mat-icon"),t.EFF(22),t.k0s()()(),t.j41(23,"div",14)(24,"a",15),t.EFF(25,"Register"),t.k0s()(),t.j41(26,"button",16),t.EFF(27," Sign In "),t.k0s()()()()()()()),2&e&&(t.R7$(8),t.Y8G("ngIf",r.showError),t.R7$(3),t.Y8G("formGroup",r.loginForm),t.R7$(8),t.Y8G("type",r.hidePassword?"password":"text"),t.R7$(3),t.JRh(r.hidePassword?"visibility_off":"visibility"),t.R7$(2),t.Y8G("routerLink",t.lJ4(6,S)),t.R7$(2),t.Y8G("disabled",!r.loginForm.valid))},dependencies:[p.bT,m.Wk,f.An,d.RN,d.m2,d.dh,v.fg,h.rl,h.nJ,h.TL,h.yw,u.$z,u.iY,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return n})()},{path:"register-user",component:o(9331).S}]}];var I=o(1626);let x=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.$C({type:n});static#i=this.\u0275inj=t.G2t({imports:[p.MD,m.iI.forChild(C),f.m_,d.Hu,v.fS,b.g7,u.Hl,i.YN,i.X1,F.X.pick(w),I.q1]})}return n})()}}]);