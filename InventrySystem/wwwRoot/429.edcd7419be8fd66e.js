"use strict";(self.webpackChunkInventory=self.webpackChunkInventory||[]).push([[429],{6429:(go,A,g)=>{g.r(A),g.d(A,{UicomponentsModule:()=>fo});var F=g(8498),C=g(177),a=g(9417),Y=g(9893),O=g(4912),q=g(5509),h=g(5686),j=g(9217),S=g(5756),y=g(8659),e=g(4438),k=g(1620);let E=(()=>{class t{constructor(o){this.bsModalRef=o}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(k.Y$))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-error-modal"]],decls:11,vars:3,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return r.bsModalRef.hide()}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4),e.EFF(7),e.k0s(),e.j41(8,"div",5)(9,"button",6),e.bIt("click",function(){return r.bsModalRef.hide()}),e.EFF(10),e.k0s()()),2&i&&(e.R7$(2),e.JRh(r.modalHeaderText),e.R7$(5),e.SpI(" ",r.modalBodyText,"\n"),e.R7$(3),e.JRh(r.okButtonText))}})}return t})();var T=g(958);let w=(()=>{class t{constructor(o,i){this.router=o,this.modal=i,this.errorMessage="",this.handleError=r=>{500===r.status?this.handle500Error(r):404===r.status?this.handle404Error(r):this.handleOtherError(r)},this.handle500Error=r=>{this.createErrorMessage(r),this.router.navigate(["/500"])},this.handle404Error=r=>{this.createErrorMessage(r),this.router.navigate(["/404"])},this.handleOtherError=r=>{this.createErrorMessage(r),this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"something went wrong",okButtonText:"OK"}})},this.createErrorMessage=r=>{this.errorMessage=r.error?r.error:r.statusText}}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(F.Ix),e.KVO(k.I8))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $=g(2524),b=g(5484),u=g(2920);let B=(()=>{class t{constructor(o,i){this.data=o,this.dialogRef=i}closeDialog(){this.dialogRef.close(!1)}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU($.Vh),e.rXU($.CP))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-confirm-delete"]],decls:11,vars:3,consts:[[1,"app-popup"],[1,"app-popup-content","text-center"],[1,"mb-4"],["fxLayout","row","fxLayoutAlign","center center"],["mat-flat-button","","color","warn",1,"m-t-8","mr-2",3,"mat-dialog-close"],["fxFlex","10px"],["mat-flat-button","","color","primary",1,"m-t-8",3,"mat-dialog-close"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),e.EFF(4),e.k0s()(),e.j41(5,"div",3)(6,"button",4),e.EFF(7," No "),e.k0s(),e.nrm(8,"div",5),e.j41(9,"button",6),e.EFF(10," Yes "),e.k0s()()()()),2&i&&(e.R7$(4),e.JRh(r.data.message),e.R7$(2),e.Y8G("mat-dialog-close",!1),e.R7$(3),e.Y8G("mat-dialog-close",!0))},dependencies:[b.$z,$.tx,u.DJ,u.sA,u.UI],encapsulation:2})}return t})(),I=(()=>{class t{constructor(o){this.dialog=o}openConfirmDialog(o){return this.dialog.open(B,{width:"300px",height:"150px",panelClass:"success-dialog-container",disableClose:!0,position:{top:"200px"},data:{message:o}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO($.bZ))};static#t=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var U=g(1682),c=g(1818),v=g(9308);const H=()=>[2,4,6,10,20];function L(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"User Name"),e.k0s())}function X(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.userName)}}function W(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"First Name"),e.k0s())}function J(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.firstName)}}function V(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"Last Name"),e.k0s())}function z(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.lastName)}}function K(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"Email"),e.k0s())}function P(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.email)}}function Q(t,n){1&t&&(e.j41(0,"th",21),e.EFF(1,"Permission"),e.k0s())}function Z(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",20)(1,"button",22),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.redirectToUpdate(r.id))}),e.j41(2,"mat-icon",23),e.EFF(3,"system_update"),e.k0s()()()}}function ee(t,n){1&t&&(e.j41(0,"th",21),e.EFF(1,"Delete"),e.k0s())}function te(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",20)(1,"button",24),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.deleteUser(r.id))}),e.j41(2,"mat-icon",23),e.EFF(3,"delete"),e.k0s()()()}}function re(t,n){1&t&&e.nrm(0,"tr",25)}function oe(t,n){1&t&&e.nrm(0,"tr",26)}let ae=(()=>{class t{constructor(o,i,r,m,d,s){this.repoService=o,this.errorService=i,this.router=r,this.dialogserve=m,this.modal=d,this.authService=s,this.errorMessage="",this.displayedColumns=["userName","firstName","lastName","email","update","delete"],this.dataSource=new h.I6,this.getAllUsers=()=>{this.repoService.getData("api/accounts").subscribe({next:l=>{this.dataSource.data=l},error:l=>{this.errorService.handleError(l),this.errorMessage=this.errorService.errorMessage}})},this.doFilter=l=>{this.dataSource.filter=l.trim().toLocaleLowerCase()},this.redirectToUpdate=l=>{this.authService.isUserAdmin()?this.router.navigate([`/ui-components/update-user/${l}`]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})},this.deleteUser=l=>{this.authService.isUserAdmin()?this.dialogserve.openConfirmDialog("Are you sure you want to delete this user?").afterClosed().subscribe(p=>{p&&this.repoService.delete(`api/accounts/${l}`).subscribe({next:()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"User deleted successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.getAllUsers())},error:x=>{this.errorService.handleError(x),this.errorMessage=this.errorService.errorMessage}})}):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}}ngOnInit(){this.getAllUsers()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}createNewUser(){this.authService.isUserAdmin()?this.router.navigate(["/ui-components/add-user"]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admins allowed",okButtonText:"OK"}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(I),e.rXU(k.I8),e.rXU(U.k))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-users"]],viewQuery:function(i,r){if(1&i&&(e.GBs(S.B4,5),e.GBs(j.iy,5)),2&i){let m;e.mGM(m=e.lsd())&&(r.sort=m.first),e.mGM(m=e.lsd())&&(r.paginator=m.first)}},decls:33,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","userName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","update"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e.EFF(3,"Users"),e.k0s(),e.nrm(4,"span",2),e.j41(5,"button",3),e.bIt("click",function(){return r.createNewUser()}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s(),e.EFF(8,"Create New User "),e.k0s()(),e.j41(9,"mat-card-content",4)(10,"div",5)(11,"table",6),e.qex(12,7),e.DNE(13,L,2,0,"th",8)(14,X,2,1,"td",9),e.bVm(),e.qex(15,10),e.DNE(16,W,2,0,"th",8)(17,J,2,1,"td",9),e.bVm(),e.qex(18,11),e.DNE(19,V,2,0,"th",8)(20,z,2,1,"td",9),e.bVm(),e.qex(21,12),e.DNE(22,K,2,0,"th",8)(23,P,2,1,"td",9),e.bVm(),e.qex(24,13),e.DNE(25,Q,2,0,"th",14)(26,Z,4,0,"td",9),e.bVm(),e.qex(27,15),e.DNE(28,ee,2,0,"th",14)(29,te,4,0,"td",9),e.bVm(),e.DNE(30,re,1,0,"tr",16)(31,oe,1,0,"tr",17),e.k0s(),e.nrm(32,"mat-paginator",18),e.k0s()()()),2&i&&(e.R7$(11),e.Y8G("dataSource",r.dataSource),e.R7$(19),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("pageSize",4)("pageSizeOptions",e.lJ4(5,H)))},dependencies:[c.RN,c.m2,c.MM,c.dh,b.$z,b.iY,v.An,j.iy,S.B4,S.aE,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB],encapsulation:2})}return t})();const ie=()=>[2,4,6,10,20];function ne(t,n){1&t&&(e.j41(0,"th",17),e.EFF(1,"Name"),e.k0s())}function se(t,n){if(1&t&&(e.j41(0,"td",18),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.name)}}function me(t,n){1&t&&(e.j41(0,"th",17),e.EFF(1," Date Created "),e.k0s())}function le(t,n){if(1&t&&(e.j41(0,"td",18),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,o.dateCreated)," ")}}function ce(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"Update"),e.k0s())}function de(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",18)(1,"button",20),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.redirectToUpdate(r.id))}),e.j41(2,"mat-icon",21),e.EFF(3,"system_update"),e.k0s()()()}}function he(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"Delete"),e.k0s())}function pe(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",18)(1,"button",22),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.deleteRole(r.id))}),e.j41(2,"mat-icon",21),e.EFF(3,"delete"),e.k0s()()()}}function ue(t,n){1&t&&e.nrm(0,"tr",23)}function fe(t,n){1&t&&e.nrm(0,"tr",24)}let _e=(()=>{class t{constructor(o,i,r,m,d,s){this.repoService=o,this.errorService=i,this.router=r,this.dialogserve=m,this.modal=d,this.authService=s,this.errorMessage="",this.displayedColumns=["name","dateCreated","update","delete"],this.dataSource=new h.I6,this.getAllRoles=()=>{this.repoService.getData("api/roles").subscribe(l=>{this.dataSource.data=l},l=>{this.errorService.handleError(l)})},this.doFilter=l=>{this.dataSource.filter=l.trim().toLocaleLowerCase()},this.redirectToUpdate=l=>{this.authService.isUserAdmin()?this.router.navigate([`/ui-components/update-role/${l}`]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})},this.redirectToDelete=l=>{this.router.navigate([`/role/delete/${l}`])},this.deleteRole=l=>{this.authService.isUserAdmin()?this.dialogserve.openConfirmDialog("Are you sure you want to delete this role?").afterClosed().subscribe(p=>{p&&this.repoService.delete(`api/roles/${l}`).subscribe({next:()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Role deleted successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.getAllRoles())},error:x=>{this.errorService.handleError(x),this.errorMessage=this.errorService.errorMessage}})}):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}}ngOnInit(){this.getAllRoles()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}createNewRole(){this.authService.isUserAdmin()?this.router.navigate(["/ui-components/add-role"]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admins allowed",okButtonText:"OK"}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(I),e.rXU(k.I8),e.rXU(U.k))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-roles"]],viewQuery:function(i,r){if(1&i&&(e.GBs(S.B4,5),e.GBs(j.iy,5)),2&i){let m;e.mGM(m=e.lsd())&&(r.sort=m.first),e.mGM(m=e.lsd())&&(r.paginator=m.first)}},decls:27,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateCreated"],["matColumnDef","update"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e.EFF(3,"User roles"),e.k0s(),e.nrm(4,"span",2),e.j41(5,"button",3),e.bIt("click",function(){return r.createNewRole()}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s(),e.EFF(8,"Create New Role "),e.k0s()(),e.j41(9,"mat-card-content",4)(10,"div",5)(11,"table",6),e.qex(12,7),e.DNE(13,ne,2,0,"th",8)(14,se,2,1,"td",9),e.bVm(),e.qex(15,10),e.DNE(16,me,2,0,"th",8)(17,le,3,3,"td",9),e.bVm(),e.qex(18,11),e.DNE(19,ce,2,0,"th",12)(20,de,4,0,"td",9),e.bVm(),e.qex(21,13),e.DNE(22,he,2,0,"th",12)(23,pe,4,0,"td",9),e.bVm(),e.DNE(24,ue,1,0,"tr",14)(25,fe,1,0,"tr",15),e.k0s(),e.nrm(26,"mat-paginator",16),e.k0s()()()),2&i&&(e.R7$(11),e.Y8G("dataSource",r.dataSource),e.R7$(13),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("pageSize",4)("pageSizeOptions",e.lJ4(5,ie)))},dependencies:[c.RN,c.m2,c.MM,c.dh,b.$z,b.iY,v.An,j.iy,S.B4,S.aE,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB,C.vh],encapsulation:2})}return t})();var f=g(7421),R=g(2788);function ge(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function Fe(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 50 characters"),e.k0s())}let be=(()=>{class t{constructor(o,i,r,m){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.errorMessage="",this.validateControl=d=>!(!this.roleForm.get(d).invalid||!this.roleForm.get(d).touched),this.hasError=(d,s)=>!!this.roleForm.get(d).hasError(s),this.createRole=d=>{this.roleForm.valid&&this.executeRoleCreation(d)},this.executeRoleCreation=d=>{this.repository.create("api/roles",{name:d.name}).subscribe({next:p=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`Role: ${p.role.name} created successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(x=>this.redirectToRoleList())},error:p=>{this.errorHandler.handleError(p),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToRoleList=()=>{this.router.navigate(["/ui-components/roles"])}}ngOnInit(){this.roleForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(50)])})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-add-role"]],decls:18,vars:4,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Role name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Create a new role"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.createRole(r.roleForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 50 characters long."),e.k0s(),e.DNE(11,ge,2,0,"mat-error",6)(12,Fe,2,0,"mat-error",6),e.k0s()(),e.j41(13,"mat-card-actions")(14,"button",7),e.EFF(15,"Create"),e.k0s(),e.j41(16,"button",8),e.bIt("click",function(){return r.redirectToRoleList()}),e.EFF(17,"Cancel"),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.roleForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(2),e.Y8G("disabled",!r.roleForm.valid))},dependencies:[C.bT,f.rl,f.MV,f.TL,R.fg,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}return t})(),Ce=(()=>{class t{transform(o,i="\u{1f7e2}",r="\u{1f534}"){return o?i:r}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=e.EJ8({name:"booleanToShape",type:t,pure:!0})}return t})();const ke=()=>[2,4,6,1,2];function Se(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"Name"),e.k0s())}function Ee(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.name)}}function ye(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"Available"),e.k0s())}function Te(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.nI1(2,"booleanToShape"),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",e.brH(2,1,o.isAvailable,"\u{1f7e2}","\u{1f534}")," ")}}function we(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1,"Shelf_id"),e.k0s())}function xe(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.id)}}function je(t,n){1&t&&(e.j41(0,"th",19),e.EFF(1," Warehouse Name "),e.k0s())}function Re(t,n){if(1&t&&(e.j41(0,"td",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.warehouseName," ")}}function Ie(t,n){1&t&&(e.j41(0,"th",21),e.EFF(1,"Update"),e.k0s())}function Ue(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",20)(1,"button",22),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.redirectToUpdate(r.id))}),e.j41(2,"mat-icon",23),e.EFF(3,"system_update"),e.k0s()()()}}function ve(t,n){1&t&&(e.j41(0,"th",21),e.EFF(1,"Delete"),e.k0s())}function De(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",20)(1,"button",24),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.DeleteShelf(r.id))}),e.j41(2,"mat-icon",23),e.EFF(3,"delete"),e.k0s()()()}}function Ne(t,n){1&t&&e.nrm(0,"tr",25)}function $e(t,n){1&t&&e.nrm(0,"tr",26)}let Me=(()=>{class t{constructor(o,i,r,m,d,s){this.repoService=o,this.errorService=i,this.router=r,this.dialogserve=m,this.modal=d,this.authService=s,this.errorMessage="",this.displayedColumns=["name","available","warehousename","update","delete"],this.dataSource=new h.I6,this.getAllShelves=()=>{this.repoService.getData("api/shelfs").subscribe(l=>{this.dataSource.data=l,console.log(l)},l=>{this.errorService.handleError(l)})},this.doFilter=l=>{this.dataSource.filter=l.trim().toLocaleLowerCase()},this.redirectToUpdate=l=>{this.authService.isUserAdmin()?this.router.navigate([`/ui-components/update-shelf/${l}`]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}}ngOnInit(){this.getAllShelves()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}createShelf(){this.authService.isUserAdmin()?this.router.navigate(["/ui-components/add-shelf"]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admins allowed",okButtonText:"OK"}})}DeleteShelf(o){this.authService.isUserAdmin()?this.dialogserve.openConfirmDialog("Are you sure, you want to delete the shelf ?").afterClosed().subscribe(i=>{i&&this.repoService.delete(`api/shelfs/${o}`).subscribe(m=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Shelf deleted successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(s=>this.getAllShelves())})}):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(I),e.rXU(k.I8),e.rXU(U.k))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-brand"]],viewQuery:function(i,r){if(1&i&&(e.GBs(S.B4,5),e.GBs(j.iy,5)),2&i){let m;e.mGM(m=e.lsd())&&(r.sort=m.first),e.mGM(m=e.lsd())&&(r.paginator=m.first)}},decls:33,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","available"],["matColumnDef","id"],["matColumnDef","warehousename"],["matColumnDef","update"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e.EFF(3,"Shelf List"),e.k0s(),e.nrm(4,"span",2),e.j41(5,"button",3),e.bIt("click",function(){return r.createShelf()}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s(),e.EFF(8,"Create new Shelf "),e.k0s()(),e.j41(9,"mat-card-content",4)(10,"div",5)(11,"table",6),e.qex(12,7),e.DNE(13,Se,2,0,"th",8)(14,Ee,2,1,"td",9),e.bVm(),e.qex(15,10),e.DNE(16,ye,2,0,"th",8)(17,Te,3,5,"td",9),e.bVm(),e.qex(18,11),e.DNE(19,we,2,0,"th",8)(20,xe,2,1,"td",9),e.bVm(),e.qex(21,12),e.DNE(22,je,2,0,"th",8)(23,Re,2,1,"td",9),e.bVm(),e.qex(24,13),e.DNE(25,Ie,2,0,"th",14)(26,Ue,4,0,"td",9),e.bVm(),e.qex(27,15),e.DNE(28,ve,2,0,"th",14)(29,De,4,0,"td",9),e.bVm(),e.DNE(30,Ne,1,0,"tr",16)(31,$e,1,0,"tr",17),e.k0s(),e.nrm(32,"mat-paginator",18),e.k0s()()()),2&i&&(e.R7$(11),e.Y8G("dataSource",r.dataSource),e.R7$(19),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("pageSize",4)("pageSizeOptions",e.lJ4(5,ke)))},dependencies:[c.RN,c.m2,c.MM,c.dh,b.$z,b.iY,v.An,j.iy,S.B4,S.aE,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB,Ce]})}return t})();var D=g(5230),M=g(1351),N=g(2836);function Ae(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function Ge(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function Ye(t,n){if(1&t&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}function Oe(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Shelf is required"),e.k0s())}function qe(t,n){if(1&t&&(e.j41(0,"mat-option",13),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}function Be(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Shelf is required"),e.k0s())}let He=(()=>{class t{constructor(o,i,r,m){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.errorMessage="",this.Warehouse=[],this.warehouse_Id=[],this.categories=[],this.validateControl=d=>!(!this.shelfForm.get(d).invalid||!this.shelfForm.get(d).touched),this.hasError=(d,s)=>!!this.shelfForm.get(d).hasError(s),this.createShelf=d=>{this.shelfForm.valid&&this.executeShelfCreation(d)},this.executeShelfCreation=d=>{const s={name:d.name,isAvailable:d.isAvailable,warehouse_Id:d.warehouse_Id,categoryId:d.categoryId};console.log(s),this.repository.create("api/shelfs",s).subscribe({next:p=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`Shelf: ${p.name} created successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(x=>this.redirectToShelfList())}})},this.redirectToShelfList=()=>{this.router.navigate(["/ui-components/shelf"])}}ngOnInit(){this.shelfForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),isAvailable:new a.MJ(!0,[a.k0.required,a.k0.maxLength(60)]),warehouse_Id:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),categoryId:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),WarehouseId:new a.MJ("")}),this.loadDropdownData()}loadDropdownData(){this.repository.getData("api/categories").subscribe(o=>this.categories=o,o=>this.errorHandler.handleError(o)),this.repository.getData("api/Warehouses").subscribe(o=>this.Warehouse=o,o=>this.errorHandler.handleError(o))}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-add-brand"]],decls:28,vars:8,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Shelf name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["placeholder","Select warehouse","formControlName","warehouse_Id","id","warehouse_Id"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select category","formControlName","categoryId","id","categoryId"],["formControlName","isAvailable"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Create a new Shelf"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.createShelf(r.shelfForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 60 characters long."),e.k0s(),e.DNE(11,Ae,2,0,"mat-error",6)(12,Ge,2,0,"mat-error",6),e.k0s(),e.j41(13,"mat-form-field",3)(14,"mat-select",7),e.DNE(15,Ye,2,2,"mat-option",8),e.k0s(),e.DNE(16,Oe,2,0,"mat-error",6),e.k0s(),e.j41(17,"mat-form-field",3)(18,"mat-select",9),e.DNE(19,qe,2,2,"mat-option",8),e.k0s(),e.DNE(20,Be,2,0,"mat-error",6),e.k0s(),e.j41(21,"mat-checkbox",10),e.EFF(22,"isAvailable"),e.k0s()(),e.j41(23,"mat-card-actions")(24,"button",11),e.EFF(25," Create "),e.k0s(),e.j41(26,"button",12),e.bIt("click",function(){return r.redirectToShelfList()}),e.EFF(27," Cancel "),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.shelfForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(3),e.Y8G("ngForOf",r.Warehouse),e.R7$(),e.Y8G("ngIf",r.hasError("WarehouseId","required")),e.R7$(3),e.Y8G("ngForOf",r.categories),e.R7$(),e.Y8G("ngIf",r.hasError("categoryId","required")),e.R7$(4),e.Y8G("disabled",!r.shelfForm.valid))},dependencies:[C.Sq,C.bT,D.wT,M.So,f.rl,f.MV,f.TL,R.fg,N.VO,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}return t})();function Le(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function Xe(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Max 60 characters"),e.k0s())}function We(t,n){if(1&t&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}function Je(t,n){if(1&t&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}let Ve=(()=>{class t{constructor(o,i,r,m,d){this.repository=o,this.errorHandler=i,this.router=r,this.route=m,this.modal=d,this.errorMessage="",this.warehouses=[],this.categories=[],this.loadShelf=()=>{this.repository.getData(`api/shelfs/${this.shelfId}`).subscribe({next:l=>{this.shelfForm.patchValue(l)},error:l=>{this.errorHandler.handleError(l),this.errorMessage=this.errorHandler.errorMessage}})},this.loadWarehouses=()=>{this.repository.getData("api/warehouses").subscribe({next:s=>{this.warehouses=s},error:s=>{this.errorHandler.handleError(s)}})},this.loadCategories=()=>{this.repository.getData("api/categories").subscribe({next:s=>{this.categories=s},error:s=>{this.errorHandler.handleError(s)}})},this.updateShelf=s=>{this.shelfForm.valid&&this.executeShelfUpdate(s)},this.executeShelfUpdate=s=>{const l={name:s.name,isAvailable:s.isAvailable,warehouse_Id:s.warehouse_Id,categoryId:s.categoryId};console.log(l),this.repository.update(`api/shelfs/${this.shelfId}`,l).subscribe({next:()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Shelf updated successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(x=>this.redirectToShelfList())},error:_=>{this.errorHandler.handleError(_),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToShelfList=()=>{this.router.navigate(["/ui-components/shelf"])}}ngOnInit(){this.shelfId=this.route.snapshot.paramMap.get("id"),this.loadShelf(),this.loadWarehouses(),this.loadCategories(),this.shelfForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),warehouse_Id:new a.MJ("",[a.k0.required]),categoryId:new a.MJ("",[a.k0.required]),isAvailable:new a.MJ("",[a.k0.required])})}hasError(o,i){return this.shelfForm.controls[o].hasError(i)}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(F.nX),e.rXU(k.I8))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-update-brand"]],decls:28,vars:6,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Shelf name","formControlName","name","id","name"],[4,"ngIf"],["formControlName","warehouse_Id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","categoryId"],["formControlName","isAvailable"],["mat-flat-button","","color","primary",1,"w-100",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Update Shelf"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.updateShelf(r.shelfForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.DNE(9,Le,2,0,"mat-error",5)(10,Xe,2,0,"mat-error",5),e.k0s(),e.j41(11,"mat-form-field",3)(12,"mat-label"),e.EFF(13,"Warehouse"),e.k0s(),e.j41(14,"mat-select",6),e.DNE(15,We,2,2,"mat-option",7),e.k0s()(),e.j41(16,"mat-form-field",3)(17,"mat-label"),e.EFF(18,"Category"),e.k0s(),e.j41(19,"mat-select",8),e.DNE(20,Je,2,2,"mat-option",7),e.k0s()(),e.j41(21,"mat-checkbox",9),e.EFF(22,"isAvailable"),e.k0s()(),e.j41(23,"mat-card-actions")(24,"button",10),e.EFF(25," Update "),e.k0s(),e.j41(26,"button",11),e.bIt("click",function(){return r.redirectToShelfList()}),e.EFF(27," Cancel "),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.shelfForm),e.R7$(4),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(5),e.Y8G("ngForOf",r.warehouses),e.R7$(5),e.Y8G("ngForOf",r.categories),e.R7$(4),e.Y8G("disabled",!r.shelfForm.valid))},dependencies:[C.Sq,C.bT,D.wT,M.So,f.rl,f.nJ,f.TL,R.fg,N.VO,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}return t})();const ze=()=>[2,4,6,10,20];function Ke(t,n){1&t&&(e.j41(0,"th",16),e.EFF(1,"Name"),e.k0s())}function Pe(t,n){if(1&t&&(e.j41(0,"td",17),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.name)}}function Qe(t,n){1&t&&(e.j41(0,"th",18),e.EFF(1,"Update"),e.k0s())}function Ze(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",17)(1,"button",19),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.redirectToUpdate(r.id))}),e.j41(2,"mat-icon",20),e.EFF(3,"system_update"),e.k0s()()()}}function et(t,n){1&t&&(e.j41(0,"th",18),e.EFF(1,"Delete"),e.k0s())}function tt(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",17)(1,"button",21),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.deleteCategory(r.id))}),e.j41(2,"mat-icon",20),e.EFF(3,"delete"),e.k0s()()()}}function rt(t,n){1&t&&e.nrm(0,"tr",22)}function ot(t,n){1&t&&e.nrm(0,"tr",23)}let at=(()=>{class t{constructor(o,i,r,m,d,s){this.repoService=o,this.errorService=i,this.router=r,this.dialogserve=m,this.modal=d,this.authService=s,this.errorMessage="",this.displayedColumns=["name","update","delete"],this.dataSource=new h.I6,this.getAllCategories=()=>{this.repoService.getData("api/categories").subscribe(l=>{this.dataSource.data=l},l=>{this.errorService.handleError(l)})},this.doFilter=l=>{this.dataSource.filter=l.trim().toLocaleLowerCase()},this.redirectToUpdate=l=>{this.authService.isUserAdmin()?this.router.navigate([`/ui-components/update-category/${l}`]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}}ngOnInit(){this.getAllCategories()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}createCategory(){this.authService.isUserAdmin()?this.router.navigate(["/ui-components/add-category"]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admins allowed",okButtonText:"OK"}})}deleteCategory(o){this.authService.isUserAdmin()?this.dialogserve.openConfirmDialog("Are you sure you want to delete this category?").afterClosed().subscribe(i=>{i&&this.repoService.delete(`api/categories/${o}`).subscribe(()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Category deleted successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.getAllCategories())})}):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(I),e.rXU(k.I8),e.rXU(U.k))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-category"]],viewQuery:function(i,r){if(1&i&&(e.GBs(S.B4,5),e.GBs(j.iy,5)),2&i){let m;e.mGM(m=e.lsd())&&(r.sort=m.first),e.mGM(m=e.lsd())&&(r.paginator=m.first)}},decls:24,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","update"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e.EFF(3,"Categories"),e.k0s(),e.nrm(4,"span",2),e.j41(5,"button",3),e.bIt("click",function(){return r.createCategory()}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s(),e.EFF(8,"Create new Category "),e.k0s()(),e.j41(9,"mat-card-content",4)(10,"div",5)(11,"table",6),e.qex(12,7),e.DNE(13,Ke,2,0,"th",8)(14,Pe,2,1,"td",9),e.bVm(),e.qex(15,10),e.DNE(16,Qe,2,0,"th",11)(17,Ze,4,0,"td",9),e.bVm(),e.qex(18,12),e.DNE(19,et,2,0,"th",11)(20,tt,4,0,"td",9),e.bVm(),e.DNE(21,rt,1,0,"tr",13)(22,ot,1,0,"tr",14),e.k0s(),e.nrm(23,"mat-paginator",15),e.k0s()()()),2&i&&(e.R7$(11),e.Y8G("dataSource",r.dataSource),e.R7$(10),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("pageSize",4)("pageSizeOptions",e.lJ4(5,ze)))},dependencies:[c.RN,c.m2,c.MM,c.dh,b.$z,b.iY,v.An,j.iy,S.B4,S.aE,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB]})}return t})();function it(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function nt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}let st=(()=>{class t{constructor(o,i,r,m){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.errorMessage="",this.validateControl=d=>!(!this.categoryForm.get(d).invalid||!this.categoryForm.get(d).touched),this.hasError=(d,s)=>!!this.categoryForm.get(d).hasError(s),this.createCategory=d=>{this.categoryForm.valid&&this.executeCategoryCreation(d)},this.executeCategoryCreation=d=>{this.repository.create("api/categories",{name:d.name}).subscribe({next:p=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`Category: ${p.name} created successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(x=>this.redirectToCategoryList())},error:p=>{this.errorHandler.handleError(p),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToCategoryList=()=>{this.router.navigate(["/ui-components/category"])}}ngOnInit(){this.categoryForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)])})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-add-category"]],decls:18,vars:4,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Category name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Create a new category"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.createCategory(r.categoryForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 60 characters long."),e.k0s(),e.DNE(11,it,2,0,"mat-error",6)(12,nt,2,0,"mat-error",6),e.k0s()(),e.j41(13,"mat-card-actions")(14,"button",7),e.EFF(15,"Create"),e.k0s(),e.j41(16,"button",8),e.bIt("click",function(){return r.redirectToCategoryList()}),e.EFF(17,"Cancel"),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.categoryForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(2),e.Y8G("disabled",!r.categoryForm.valid))},dependencies:[C.bT,f.rl,f.MV,f.TL,R.fg,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD]})}return t})();function mt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function lt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}let ct=(()=>{class t{constructor(o,i,r,m,d){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.route=d,this.errorMessage="",this.categoryId="",this.initializeForm=()=>{this.categoryId&&this.repository.getData(`api/categories/${this.categoryId}`).subscribe({next:s=>{this.categoryForm=new a.gE({name:new a.MJ(s.name,[a.k0.required,a.k0.maxLength(60)])})},error:s=>{this.errorHandler.handleError(s),this.errorMessage=this.errorHandler.errorMessage}})},this.validateControl=s=>!(!this.categoryForm.get(s).invalid||!this.categoryForm.get(s).touched),this.hasError=(s,l)=>!!this.categoryForm.get(s).hasError(l),this.updateCategory=s=>{this.categoryForm.valid&&this.executeCategoryUpdate(s)},this.executeCategoryUpdate=s=>{const l={id:this.categoryId?this.categoryId:"",name:s.name};this.repository.update(`api/categories/${this.categoryId}`,l).subscribe({next:()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`Category: ${l.name} updated successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.redirectToCategoryList())},error:_=>{this.errorHandler.handleError(_),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToCategoryList=()=>{this.router.navigate(["/ui-components/category"])}}ngOnInit(){this.categoryId=this.route.snapshot.paramMap.get("id"),this.categoryForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)])}),this.initializeForm()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8),e.rXU(F.nX))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-update-category"]],decls:18,vars:4,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Category name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Update category"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.updateCategory(r.categoryForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 60 characters long."),e.k0s(),e.DNE(11,mt,2,0,"mat-error",6)(12,lt,2,0,"mat-error",6),e.k0s()(),e.j41(13,"mat-card-actions")(14,"button",7),e.EFF(15,"Update"),e.k0s(),e.j41(16,"button",8),e.bIt("click",function(){return r.redirectToCategoryList()}),e.EFF(17,"Cancel"),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.categoryForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(2),e.Y8G("disabled",!r.categoryForm.valid))},dependencies:[C.bT,f.rl,f.MV,f.TL,R.fg,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD]})}return t})();const dt=()=>[2,4,6,8,10];function ht(t,n){if(1&t&&(e.j41(0,"mat-option",37),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.name),e.R7$(),e.SpI(" ",o.name," ")}}function pt(t,n){if(1&t&&(e.j41(0,"mat-option",37),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.name),e.R7$(),e.SpI(" ",o.name," ")}}function ut(t,n){1&t&&(e.j41(0,"th",38),e.EFF(1," Name "),e.k0s())}function ft(t,n){if(1&t&&(e.j41(0,"td",39),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.name," ")}}function _t(t,n){1&t&&(e.j41(0,"th",40),e.EFF(1," Serial Number "),e.k0s())}function gt(t,n){if(1&t&&(e.j41(0,"td",41),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.serialNumber)}}function Ft(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," Category "),e.k0s())}function bt(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.categoryName," ")}}function Ct(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," Warehouse Name "),e.k0s())}function kt(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.warehouseName," ")}}function St(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," Customer Name "),e.k0s())}function Et(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.customerName," ")}}function yt(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," Phone "),e.k0s())}function Tt(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.phone," ")}}function wt(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," Dealer "),e.k0s())}function xt(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.dealer," ")}}function jt(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," Price "),e.k0s())}function Rt(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.price," ")}}function It(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," in_Out "),e.k0s())}function Ut(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.getInOutStatus(o.in_Out)," ")}}function vt(t,n){1&t&&(e.j41(0,"th",42),e.EFF(1," Shelf "),e.k0s())}function Dt(t,n){if(1&t&&(e.j41(0,"td",43),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.SpI(" ",o.shelfName," ")}}function Nt(t,n){1&t&&(e.qex(0),e.EFF(1,"Actions button"),e.bVm())}function $t(t,n){if(1&t&&(e.j41(0,"th",44),e.DNE(1,Nt,2,0,"ng-container",45),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.isAdmin)}}function Mt(t,n){if(1&t){const o=e.RV6();e.j41(0,"button",48),e.bIt("click",function(){e.eBV(o);const r=e.XpG().$implicit,m=e.XpG();return e.Njj(m.redirectToUpdate(r.id))}),e.j41(1,"mat-icon",49),e.EFF(2,"system_update"),e.k0s()()}}function At(t,n){if(1&t){const o=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(o);const r=e.XpG().$implicit,m=e.XpG();return e.Njj(m.deleteShipment(r.id))}),e.j41(1,"mat-icon",49),e.EFF(2,"delete"),e.k0s()()}}function Gt(t,n){if(1&t&&(e.j41(0,"td",41),e.DNE(1,Mt,3,0,"button",46)(2,At,3,0,"button",47),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.isAdmin),e.R7$(),e.Y8G("ngIf",o.isAdmin)}}function Yt(t,n){1&t&&e.nrm(0,"tr",51)}function Ot(t,n){1&t&&e.nrm(0,"tr",52)}let qt=(()=>{class t{constructor(o,i,r,m,d,s){this.repoService=o,this.fb=i,this.dialogService=r,this.modal=m,this.router=d,this.authService=s,this.categories=[],this.shelfs=[],this.errorMessage="",this.displayedColumns=["name","serialNumber","categoryName","shelfName","warehouseName","price","in_Out","customerName","phone","dealer","actions"],this.dataSource=new h.I6,this.allDevices=[],this.isAdmin=this.authService.isUserAdmin(),this.loadDropdownData=()=>{this.repoService.getData("api/categories").subscribe(l=>this.categories=l),this.repoService.getData("api/shelfs").subscribe(l=>{this.shelfs=l})},this.deleteShipment=l=>{this.authService.isUserAdmin()?this.dialogService.openConfirmDialog("Are you sure you want to delete this Shipment?").afterClosed().subscribe(p=>{p&&this.repoService.delete(`api/products/${l}`).subscribe(()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Shipment deleted successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.getAllShipment())})}):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}}ngOnInit(){this.filterForm=this.fb.group({category:[""],shelves:[""]}),this.loadDropdownData(),this.getAllShipment(),this.filterForm.valueChanges.subscribe(()=>{this.applyFilter()})}getInOutStatus(o){return!0===o?"In":!1===o?"Out":"Not assigned yet"}createShipment(){this.router.navigate(["/ui-components/add-product"])}getAllShipment(){this.repoService.getData("api/products").subscribe(o=>{this.allDevices=o,this.dataSource.data=this.allDevices,this.applyFilter(),console.log(o)},o=>{this.errorMessage="Failed to load devices. Please try again later.",console.error("Error fetching devices:",o)})}applyFilter(){const o=this.filterForm.value,i=this.allDevices.filter(r=>!(o.category&&r.categoryName!==o.category||o.shelves&&r.shelfName!==o.shelves));this.dataSource.data=i,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}doFilter(o){this.dataSource.filter=o.trim().toLowerCase()}redirectToUpdate(o){this.authService.isUserAdmin()?this.router.navigate([`/ui-components/update-product/${o}`]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(a.ok),e.rXU(I),e.rXU(k.I8),e.rXU(F.Ix),e.rXU(U.k))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-device"]],viewQuery:function(i,r){if(1&i&&(e.GBs(S.B4,5),e.GBs(j.iy,5)),2&i){let m;e.mGM(m=e.lsd())&&(r.sort=m.first),e.mGM(m=e.lsd())&&(r.paginator=m.first)}},decls:65,vars:9,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"filter-form",3,"formGroup"],["appearance","outline",1,"w-100","col-sm-6","col-lg-4"],[2,"color","blue"],["formControlName","category"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","shelves"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Search....",3,"keyup"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","name"],["style","color: blue","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["style","color: blue","mat-cell","",4,"matCellDef"],["matColumnDef","serialNumber"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","warehouseName"],["matColumnDef","customerName"],["matColumnDef","phone"],["matColumnDef","dealer"],["matColumnDef","price"],["matColumnDef","in_Out"],["matColumnDef","shelfName"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header","",2,"color","blue"],["mat-cell","",2,"color","blue"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e.EFF(3,"All Shipments"),e.k0s(),e.nrm(4,"span",2),e.j41(5,"button",3),e.bIt("click",function(){return r.createShipment()}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s(),e.EFF(8,"Create new shipment "),e.k0s()(),e.j41(9,"mat-card-content",4)(10,"form",5)(11,"mat-form-field",6)(12,"mat-label",7),e.EFF(13,"Category"),e.k0s(),e.j41(14,"mat-select",8)(15,"mat-option",9),e.EFF(16,"All Categories"),e.k0s(),e.DNE(17,ht,2,2,"mat-option",10),e.k0s()(),e.j41(18,"mat-form-field",6)(19,"mat-label",7),e.EFF(20,"Shelves"),e.k0s(),e.j41(21,"mat-select",11)(22,"mat-option",9),e.EFF(23,"All Shelves"),e.k0s(),e.DNE(24,pt,2,2,"mat-option",10),e.k0s()()(),e.j41(25,"mat-form-field",12)(26,"input",13),e.bIt("keyup",function(d){return r.doFilter(d.target.value)}),e.k0s()(),e.j41(27,"div",14)(28,"table",15),e.qex(29,16),e.DNE(30,ut,2,0,"th",17)(31,ft,2,1,"td",18),e.bVm(),e.qex(32,19),e.DNE(33,_t,2,0,"th",20)(34,gt,2,1,"td",21),e.bVm(),e.qex(35,22),e.DNE(36,Ft,2,0,"th",23)(37,bt,2,1,"td",24),e.bVm(),e.qex(38,25),e.DNE(39,Ct,2,0,"th",23)(40,kt,2,1,"td",24),e.bVm(),e.qex(41,26),e.DNE(42,St,2,0,"th",23)(43,Et,2,1,"td",24),e.bVm(),e.qex(44,27),e.DNE(45,yt,2,0,"th",23)(46,Tt,2,1,"td",24),e.bVm(),e.qex(47,28),e.DNE(48,wt,2,0,"th",23)(49,xt,2,1,"td",24),e.bVm(),e.qex(50,29),e.DNE(51,jt,2,0,"th",23)(52,Rt,2,1,"td",24),e.bVm(),e.qex(53,30),e.DNE(54,It,2,0,"th",23)(55,Ut,2,1,"td",24),e.bVm(),e.qex(56,31),e.DNE(57,vt,2,0,"th",23)(58,Dt,2,1,"td",24),e.bVm(),e.qex(59,32),e.DNE(60,$t,2,1,"th",33)(61,Gt,3,2,"td",21),e.bVm(),e.DNE(62,Yt,1,0,"tr",34)(63,Ot,1,0,"tr",35),e.k0s(),e.nrm(64,"mat-paginator",36),e.k0s()()()),2&i&&(e.R7$(10),e.Y8G("formGroup",r.filterForm),e.R7$(7),e.Y8G("ngForOf",r.categories),e.R7$(7),e.Y8G("ngForOf",r.shelfs),e.R7$(4),e.Y8G("dataSource",r.dataSource),e.R7$(34),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("pageSize",4)("pageSizeOptions",e.lJ4(8,dt)))},dependencies:[C.Sq,C.bT,D.wT,f.rl,f.nJ,R.fg,N.VO,c.RN,c.m2,c.MM,c.dh,b.$z,b.iY,v.An,j.iy,S.B4,S.aE,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB,a.qT,a.BC,a.cb,a.j4,a.JD]})}return t})();function Bt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function Ht(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function Lt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Customer Name is required"),e.k0s())}function Xt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function Wt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Dealer is required"),e.k0s())}function Jt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function Vt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Phone is required"),e.k0s())}function zt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function Kt(t,n){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}function Pt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Category is required"),e.k0s())}function Qt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Weight is required"),e.k0s())}function Zt(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function er(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Price is required"),e.k0s())}function tr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Shipped Date required"),e.k0s())}function rr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function or(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Shipped Date required"),e.k0s())}function ar(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Date is required"),e.k0s())}function ir(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Shipped_Address_From is required"),e.k0s())}function nr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function sr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Shipped Address is required"),e.k0s())}function mr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}let lr=(()=>{class t{constructor(o,i,r,m){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.errorMessage="",this.categories=[],this.shelfs=[],this.weights=[],this.shipped_From=[],this.shipped_To=[],this.shipped_Address_From=[],this.shipped_Address_To=[],this.shelfId=[],this.WarehouseId=[],this.Warehouse=[]}ngOnInit(){this.deviceForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),categoryId:new a.MJ("",[a.k0.required]),Weight:new a.MJ("",[a.k0.required]),Price:new a.MJ("",[a.k0.required]),Shipped_From:new a.MJ(new Date,[a.k0.required]),Shipped_To:new a.MJ(new Date,[a.k0.required]),Shipped_Address_To:new a.MJ("",[a.k0.required]),Shipped_Address_From:new a.MJ("",[a.k0.required]),customerName:new a.MJ("",[a.k0.required]),phone:new a.MJ("",[a.k0.required]),dealer:new a.MJ("",[a.k0.required])}),this.loadDropdownData()}loadDropdownData(){this.repository.getData("api/categories").subscribe(o=>this.categories=o,o=>this.errorHandler.handleError(o)),this.repository.getData("api/shelfs").subscribe(o=>{this.shelfs=o.filter(i=>i.isAvailable)},o=>this.errorHandler.handleError(o)),this.repository.getData("api/Warehouses").subscribe(o=>this.Warehouse=o,o=>this.errorHandler.handleError(o))}validateControl(o){return this.deviceForm.get(o).invalid&&this.deviceForm.get(o).touched}hasError(o,i){return this.deviceForm.get(o).hasError(i)}createShipment(o){this.deviceForm.valid&&this.executeDeviceCreation(o)}executeDeviceCreation(o){const i={name:o.name,categoryId:o.categoryId,weight:o.Weight,price:o.Price,shipped_From:o.Shipped_From,shipped_To:o.Shipped_To,shipped_Address_From:o.Shipped_Address_From,shipped_Address_To:o.Shipped_Address_To,customerName:o.customerName,phone:o.phone,dealer:o.dealer};console.log(i),this.repository.create("api/products",i).subscribe({next:m=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`Shipment: ${m.name} created successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.redirectToShipmentList())},error:m=>{this.errorHandler.handleError(m),this.errorMessage=this.errorHandler.errorMessage}})}redirectToShipmentList(){this.router.navigate(["/ui-components/product"])}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-add-device"]],decls:79,vars:23,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Shipment name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["matInput","","type","text","placeholder","customerName ","formControlName","customerName","id","customerName"],["matInput","","type","text","placeholder","dealer","formControlName","dealer","id","dealer"],["matInput","","type","text","placeholder","phone","formControlName","phone","id","phone"],["placeholder","Select Category","formControlName","categoryId","id","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","placeholder","Weights ","min","1","formControlName","Weight","id","Weights"],["matInput","","type","text","placeholder","price","formControlName","Price","id","Price"],["matInput","","type","date","placeholder","Shipped_From name","formControlName","Shipped_From","id","Shipped_From"],["matInput","","type","date","placeholder","Shipped_To name","formControlName","Shipped_To","id","Shipped_To"],["matInput","","type","text","placeholder","address","formControlName","Shipped_Address_From","id","Shipped_Address_From"],["matInput","","type","text","placeholder","address","formControlName","Shipped_Address_To","id","Shipped_Address_To"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"],[3,"value"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Add a new shipment"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.createShipment(r.deviceForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 60 characters long."),e.k0s(),e.DNE(11,Bt,2,0,"mat-error",6)(12,Ht,2,0,"mat-error",6),e.k0s(),e.j41(13,"mat-form-field",3),e.nrm(14,"input",7),e.j41(15,"mat-hint",5),e.EFF(16,"Not more than 60 characters long."),e.k0s(),e.DNE(17,Lt,2,0,"mat-error",6)(18,Xt,2,0,"mat-error",6),e.k0s(),e.j41(19,"mat-form-field",3),e.nrm(20,"input",8),e.j41(21,"mat-hint",5),e.EFF(22,"Not more than 60 characters long."),e.k0s(),e.DNE(23,Wt,2,0,"mat-error",6)(24,Jt,2,0,"mat-error",6),e.k0s(),e.j41(25,"mat-form-field",3),e.nrm(26,"input",9),e.j41(27,"mat-hint",5),e.EFF(28,"Not more than 60 characters long."),e.k0s(),e.DNE(29,Vt,2,0,"mat-error",6)(30,zt,2,0,"mat-error",6),e.k0s(),e.j41(31,"mat-form-field",3)(32,"mat-select",10),e.DNE(33,Kt,2,2,"mat-option",11),e.k0s(),e.DNE(34,Pt,2,0,"mat-error",6),e.k0s(),e.j41(35,"mat-form-field",3),e.nrm(36,"input",12),e.j41(37,"mat-hint",5),e.EFF(38,"Not more than 60 characters long."),e.k0s(),e.DNE(39,Qt,2,0,"mat-error",6)(40,Zt,2,0,"mat-error",6),e.k0s(),e.j41(41,"mat-form-field",3),e.nrm(42,"input",13),e.j41(43,"mat-hint",5),e.EFF(44,"Not more than 60 characters long."),e.k0s(),e.DNE(45,er,2,0,"mat-error",6),e.k0s(),e.j41(46,"label"),e.EFF(47,"Shipped From Date "),e.k0s(),e.j41(48,"mat-form-field",3),e.nrm(49,"input",14),e.DNE(50,tr,2,0,"mat-error",6)(51,rr,2,0,"mat-error",6),e.k0s(),e.j41(52,"label"),e.EFF(53,"Shipped To Date "),e.k0s(),e.j41(54,"mat-form-field",3),e.nrm(55,"input",15),e.DNE(56,or,2,0,"mat-error",6)(57,ar,2,0,"mat-error",6),e.k0s(),e.j41(58,"label"),e.EFF(59,"Shipped Address From "),e.k0s(),e.j41(60,"mat-form-field",3),e.nrm(61,"input",16),e.j41(62,"mat-hint",5),e.EFF(63,"Not more than 60 characters long."),e.k0s(),e.DNE(64,ir,2,0,"mat-error",6)(65,nr,2,0,"mat-error",6),e.k0s(),e.j41(66,"label"),e.EFF(67,"Shipped Address To "),e.k0s(),e.j41(68,"mat-form-field",3),e.nrm(69,"input",17),e.j41(70,"mat-hint",5),e.EFF(71,"Not more than 60 characters long."),e.k0s(),e.DNE(72,sr,2,0,"mat-error",6)(73,mr,2,0,"mat-error",6),e.k0s()(),e.j41(74,"mat-card-actions")(75,"button",18),e.EFF(76," Add Shipment "),e.k0s(),e.j41(77,"button",19),e.bIt("click",function(){return r.redirectToShipmentList()}),e.EFF(78," Cancel "),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.deviceForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("customerName","required")),e.R7$(),e.Y8G("ngIf",r.hasError("customerName","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("dealer","required")),e.R7$(),e.Y8G("ngIf",r.hasError("dealer","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("phone","required")),e.R7$(),e.Y8G("ngIf",r.hasError("phone","maxlength")),e.R7$(3),e.Y8G("ngForOf",r.categories),e.R7$(),e.Y8G("ngIf",r.hasError("categoryId","required")),e.R7$(5),e.Y8G("ngIf",r.hasError("Weight","required")),e.R7$(),e.Y8G("ngIf",r.hasError("Weight","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("Price","required")),e.R7$(5),e.Y8G("ngIf",r.hasError("Shipped_From","required")),e.R7$(),e.Y8G("ngIf",r.hasError("Shipped_From","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("Shipped_To","required")),e.R7$(),e.Y8G("ngIf",r.hasError("Shipped_To","maxlength")),e.R7$(7),e.Y8G("ngIf",r.hasError("Shipped_Address_From","required")),e.R7$(),e.Y8G("ngIf",r.hasError("Shipped_Address_From","maxlength")),e.R7$(7),e.Y8G("ngIf",r.hasError("Shipped_Address_To","required")),e.R7$(),e.Y8G("ngIf",r.hasError("Shipped_Address_To","maxlength")),e.R7$(2),e.Y8G("disabled",!r.deviceForm.valid))},dependencies:[C.Sq,C.bT,D.wT,f.rl,f.MV,f.TL,R.fg,N.VO,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.Q0,a.BC,a.cb,a.VZ,a.j4,a.JD],encapsulation:2})}return t})();function cr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function dr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function hr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Customer Name is required"),e.k0s())}function pr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function ur(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Dealer is required"),e.k0s())}function fr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function _r(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Phone is required"),e.k0s())}function gr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function Fr(t,n){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}function br(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Category is required"),e.k0s())}function Cr(t,n){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}function kr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Weight is required"),e.k0s())}function Sr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function Er(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Date is required"),e.k0s())}function yr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Date is required"),e.k0s())}function Tr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Address is required"),e.k0s())}function wr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Address is required"),e.k0s())}function xr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"price is required"),e.k0s())}function jr(t,n){if(1&t&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.Y8G("value",o.id),e.R7$(),e.SpI(" ",o.name," ")}}let Rr=(()=>{class t{constructor(o,i,r,m,d){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.route=d,this.errorMessage="",this.deviceId="",this.categories=[],this.shelfs=[],this.warehouses=[],this.suppliers=[],this.initializeForm=()=>{this.deviceId&&this.repository.getData(`api/products/${this.deviceId}`).subscribe({next:s=>{this.deviceForm.patchValue({name:s.name,id:s.id,categoryId:s.categoryId,shelfId:s.shelfId,weight:s.weight,in_Out:s.in_Out,price:s.price,shipped_From:s.shipped_From,shipped_To:s.shipped_To,shipped_Address_From:s.shipped_Address_From,shipped_Address_To:s.shipped_Address_To,warehouseId:s.warehouseId,phone:s.phone,dealer:s.dealer,customerName:s.customerName}),console.log(s)},error:s=>{this.errorHandler.handleError(s),this.errorMessage=this.errorHandler.errorMessage}})},this.getCategories=()=>{this.repository.getData("api/categories").subscribe({next:s=>this.categories=s,error:s=>{this.errorHandler.handleError(s),this.errorMessage=this.errorHandler.errorMessage}})},this.getWarhouses=()=>{this.repository.getData("api/warehouses").subscribe({next:s=>this.warehouses=s,error:s=>{this.errorHandler.handleError(s),this.errorMessage=this.errorHandler.errorMessage}})},this.getshelfs=()=>{this.repository.getData("api/shelfs").subscribe({next:s=>{this.shelfs=s.filter(l=>l.isAvailable)},error:s=>{this.errorHandler.handleError(s),this.errorMessage=this.errorHandler.errorMessage}})},this.validateControl=s=>!(!this.deviceForm.get(s).invalid||!this.deviceForm.get(s).touched),this.hasError=(s,l)=>!!this.deviceForm.get(s).hasError(l),this.updateShipment=s=>{this.deviceForm.valid&&this.executeShipmentUpdate(s)},this.executeShipmentUpdate=s=>{const l={id:this.deviceId?this.deviceId:"",name:s.name,categoryId:s.categoryId,shelfId:s.shelfId,weight:s.weight,price:s.price,in_Out:s.in_Out,shipped_From:s.shipped_From,shipped_To:s.shipped_To,shipped_Address_From:s.shipped_Address_From,shipped_Address_To:s.shipped_Address_To,warehouseId:s.warehouseId,phone:s.phone,dealer:s.dealer,customerName:s.customerName};console.log(l),this.repository.update(`api/products/${this.deviceId}`,l).subscribe({next:()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`Shipment: ${l.name} updated successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.redirectToShipmentList())},error:_=>{this.errorHandler.handleError(_),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToShipmentList=()=>{this.router.navigate(["/ui-components/product"])}}ngOnInit(){this.deviceId=this.route.snapshot.paramMap.get("id"),this.deviceForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),id:new a.MJ("",[a.k0.required]),in_Out:new a.MJ,price:new a.MJ("",[a.k0.required]),categoryId:new a.MJ("",[a.k0.required]),shelfId:new a.MJ(""),weight:new a.MJ(1,[a.k0.required]),shipped_From:new a.MJ(Date,[a.k0.required]),shipped_To:new a.MJ(Date,[a.k0.required]),shipped_Address_From:new a.MJ("",[a.k0.required]),shipped_Address_To:new a.MJ("",[a.k0.required]),warehouseId:new a.MJ(""),customerName:new a.MJ("",[a.k0.required]),dealer:new a.MJ("",[a.k0.required]),phone:new a.MJ("",[a.k0.required])}),this.initializeForm(),this.getCategories(),this.getshelfs(),this.getWarhouses()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8),e.rXU(F.nX))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-update-device"]],decls:87,vars:24,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Shipment name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["matInput","","type","text","placeholder","customerName","formControlName","customerName","id","customerName"],["matInput","","type","text","placeholder","dealer","formControlName","dealer","id","dealer"],["matInput","","type","text","placeholder","phone","formControlName","phone","id","phone"],["placeholder","Select Category","formControlName","categoryId","id","categoryId"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Shelf","formControlName","shelfId","id","shelfId"],["matInput","","type","number","placeholder","weight","formControlName","weight","id","weight"],["matInput","","type","date","placeholder","shipped_From","formControlName","shipped_From","id","shipped_From"],["matInput","","type","date","placeholder","shipped_To","formControlName","shipped_To","id","shipped_To"],["matInput","","type","text","placeholder","shipped_Address_From","formControlName","shipped_Address_From","id","shipped_Address_From"],["matInput","","type","text","placeholder","shipped_Address_To","formControlName","shipped_Address_To","id","shipped_Address_To"],["matInput","","type","text","placeholder","price","formControlName","price","id","price"],["formControlName","in_Out"],[3,"value"],["placeholder","Select Warehouse","formControlName","warehouseId","id","warehouseId"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Update Shipment"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.updateShipment(r.deviceForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 60 characters long."),e.k0s(),e.DNE(11,cr,2,0,"mat-error",6)(12,dr,2,0,"mat-error",6),e.k0s(),e.j41(13,"mat-form-field",3),e.nrm(14,"input",7),e.j41(15,"mat-hint",5),e.EFF(16,"Not more than 60 characters long."),e.k0s(),e.DNE(17,hr,2,0,"mat-error",6)(18,pr,2,0,"mat-error",6),e.k0s(),e.j41(19,"mat-form-field",3),e.nrm(20,"input",8),e.j41(21,"mat-hint",5),e.EFF(22,"Not more than 60 characters long."),e.k0s(),e.DNE(23,ur,2,0,"mat-error",6)(24,fr,2,0,"mat-error",6),e.k0s(),e.j41(25,"mat-form-field",3),e.nrm(26,"input",9),e.j41(27,"mat-hint",5),e.EFF(28,"Not more than 60 characters long."),e.k0s(),e.DNE(29,_r,2,0,"mat-error",6)(30,gr,2,0,"mat-error",6),e.k0s(),e.j41(31,"mat-form-field",3)(32,"mat-select",10),e.DNE(33,Fr,2,2,"mat-option",11),e.k0s(),e.DNE(34,br,2,0,"mat-error",6),e.k0s(),e.j41(35,"mat-form-field",3)(36,"mat-select",12),e.DNE(37,Cr,2,2,"mat-option",11),e.k0s()(),e.j41(38,"mat-form-field",3),e.nrm(39,"input",13),e.j41(40,"mat-hint",5),e.EFF(41,"Not more than 60 characters long."),e.k0s(),e.DNE(42,kr,2,0,"mat-error",6)(43,Sr,2,0,"mat-error",6),e.k0s(),e.j41(44,"mat-form-field",3),e.nrm(45,"input",14),e.j41(46,"mat-hint",5),e.EFF(47,"Not more than 60 characters long."),e.k0s(),e.DNE(48,Er,2,0,"mat-error",6),e.k0s(),e.j41(49,"mat-form-field",3),e.nrm(50,"input",15),e.j41(51,"mat-hint",5),e.EFF(52,"Not more than 60 characters long."),e.k0s(),e.DNE(53,yr,2,0,"mat-error",6),e.k0s(),e.j41(54,"mat-form-field",3),e.nrm(55,"input",16),e.j41(56,"mat-hint",5),e.EFF(57,"Not more than 60 characters long."),e.k0s(),e.DNE(58,Tr,2,0,"mat-error",6),e.k0s(),e.j41(59,"mat-form-field",3),e.nrm(60,"input",17),e.j41(61,"mat-hint",5),e.EFF(62,"Not more than 60 characters long."),e.k0s(),e.DNE(63,wr,2,0,"mat-error",6),e.k0s(),e.j41(64,"mat-form-field",3),e.nrm(65,"input",18),e.j41(66,"mat-hint",5),e.EFF(67,"Not more than 60 characters long."),e.k0s(),e.DNE(68,xr,2,0,"mat-error",6),e.k0s(),e.j41(69,"mat-form-field",3)(70,"mat-label"),e.EFF(71,"In/Out"),e.k0s(),e.j41(72,"mat-select",19)(73,"mat-option",20),e.EFF(74,"In"),e.k0s(),e.j41(75,"mat-option",20),e.EFF(76,"Out"),e.k0s(),e.j41(77,"mat-option",20),e.EFF(78,"none"),e.k0s()()(),e.j41(79,"mat-form-field",3)(80,"mat-select",21),e.DNE(81,jr,2,2,"mat-option",11),e.k0s()()(),e.j41(82,"mat-card-actions")(83,"button",22),e.EFF(84," Update Shipment "),e.k0s(),e.j41(85,"button",23),e.bIt("click",function(){return r.redirectToShipmentList()}),e.EFF(86," Cancel "),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.deviceForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("customerName","required")),e.R7$(),e.Y8G("ngIf",r.hasError("customerName","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("dealer","required")),e.R7$(),e.Y8G("ngIf",r.hasError("dealer","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("phone","required")),e.R7$(),e.Y8G("ngIf",r.hasError("phone","maxlength")),e.R7$(3),e.Y8G("ngForOf",r.categories),e.R7$(),e.Y8G("ngIf",r.hasError("categoryId","required")),e.R7$(3),e.Y8G("ngForOf",r.shelfs),e.R7$(5),e.Y8G("ngIf",r.hasError("weight","required")),e.R7$(),e.Y8G("ngIf",r.hasError("weight","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("shipped_From","required")),e.R7$(5),e.Y8G("ngIf",r.hasError("shipped_To","required")),e.R7$(5),e.Y8G("ngIf",r.hasError("shipped_Address_From","required")),e.R7$(5),e.Y8G("ngIf",r.hasError("shipped_Address_To","required")),e.R7$(5),e.Y8G("ngIf",r.hasError("price","required")),e.R7$(5),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(2),e.Y8G("value",null),e.R7$(4),e.Y8G("ngForOf",r.warehouses),e.R7$(2),e.Y8G("disabled",!r.deviceForm.valid))},dependencies:[C.Sq,C.bT,D.wT,f.rl,f.nJ,f.MV,f.TL,R.fg,N.VO,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.Q0,a.BC,a.cb,a.j4,a.JD]})}return t})();function Ir(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function Ur(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 50 characters"),e.k0s())}let vr=(()=>{class t{constructor(o,i,r,m,d){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.route=d,this.errorMessage="",this.roleId="",this.initializeForm=()=>{this.roleId&&this.repository.getData(`api/roles/${this.roleId}`).subscribe({next:s=>{this.roleForm.setValue({name:s.name})},error:s=>{this.errorHandler.handleError(s),this.errorMessage=this.errorHandler.errorMessage}})},this.validateControl=s=>!(!this.roleForm.get(s).invalid||!this.roleForm.get(s).touched),this.hasError=(s,l)=>!!this.roleForm.get(s).hasError(l),this.updateRole=s=>{this.roleForm.valid&&this.executeRoleUpdate(s)},this.executeRoleUpdate=s=>{this.repository.update(`api/roles/${this.roleId}`,{name:s.name}).subscribe({next:()=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Role updated successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.redirectToRoleList())},error:_=>{this.errorHandler.handleError(_),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToRoleList=()=>{this.router.navigate(["/ui-components/roles"])}}ngOnInit(){this.roleId=this.route.snapshot.paramMap.get("id"),this.roleForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(50)])}),this.initializeForm()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8),e.rXU(F.nX))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-update-role"]],decls:18,vars:4,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Role name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Update Role"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.updateRole(r.roleForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 50 characters long."),e.k0s(),e.DNE(11,Ir,2,0,"mat-error",6)(12,Ur,2,0,"mat-error",6),e.k0s()(),e.j41(13,"mat-card-actions")(14,"button",7),e.EFF(15,"Update"),e.k0s(),e.j41(16,"button",8),e.bIt("click",function(){return r.redirectToRoleList()}),e.EFF(17,"Cancel"),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.roleForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(2),e.Y8G("disabled",!r.roleForm.valid))},dependencies:[C.bT,f.rl,f.MV,f.TL,R.fg,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}return t})();var G=g(5794);function Dr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," First Name is required and must be less than 60 characters. "),e.k0s())}function Nr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Last Name is required and must be less than 60 characters. "),e.k0s())}function $r(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," User Name is required and must be less than 60 characters. "),e.k0s())}function Mr(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1," Email is required and must be less than 100 characters. "),e.k0s())}function Ar(t,n){if(1&t){const o=e.RV6();e.j41(0,"div")(1,"mat-checkbox",13),e.bIt("change",function(r){const m=e.eBV(o).$implicit,d=e.XpG();return e.Njj(d.toggleRoleSelection(r,m.name))}),e.EFF(2),e.k0s()()}if(2&t){const o=n.$implicit,i=e.XpG();e.R7$(),e.Y8G("checked",i.isSelected(o.name)),e.R7$(),e.SpI(" ",o.name," ")}}let Gr=(()=>{class t{constructor(o,i,r,m,d,s){this.repoService=o,this.errorHandler=i,this.toastr=r,this.modal=m,this.route=d,this.router=s,this.selectedRoles=[],this.userId="",this.errorMessage="",this.validateControl=l=>this.dataForm?.get(l)?.invalid&&this.dataForm?.get(l)?.touched,this.hasError=(l,p)=>this.dataForm?.get(l)?.hasError(p),this.createData=l=>{this.dataForm.valid&&this.executeDataCreation(l)},this.executeDataCreation=l=>{let p={firstName:l.firstName,lastName:l.lastName,userName:l.userName,email:l.email,roles:this.selectedRoles};this.repoService.update(`api/accounts/${this.userId}`,p).subscribe(x=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`${p.firstName} updated successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(()=>this.redirectToUserList())},x=>{this.errorHandler.handleError(x),this.errorMessage=this.errorHandler.errorMessage})},this.getUsertoUpdate=()=>{const l=`api/accounts/${this.userId}`;console.log(l),this.repoService.getData(l).subscribe({next:p=>{this.user={...p},this.dataForm.patchValue(this.user),this.selectedRoles=this.user.roles},error:p=>{this.errorHandler.handleError(p),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToUserList=()=>{this.router.navigate(["/ui-components/user"])}}ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id"),this.dataForm=new a.gE({firstName:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),lastName:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),userName:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),email:new a.MJ("",[a.k0.required,a.k0.maxLength(100)])}),this.getRoles(),this.getUsertoUpdate()}getRoles(){this.repoService.getData("api/roles").subscribe(o=>{this.roles=o},o=>{this.errorHandler.handleError(o),this.errorMessage=this.errorHandler.errorMessage})}toggleRoleSelection(o,i){o.checked?this.selectedRoles.push(i):this.selectedRoles=this.selectedRoles.filter(r=>r!==i)}isSelected(o){return this.selectedRoles.includes(o)}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(G.tw),e.rXU(k.I8),e.rXU(F.nX),e.rXU(F.Ix))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-update-user"]],decls:35,vars:7,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],[1,"m-b-0"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["matInput","","formControlName","userName"],["matInput","","formControlName","email"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"],[3,"change","checked"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),e.EFF(4,"Update User"),e.k0s()(),e.j41(5,"form",3),e.bIt("ngSubmit",function(){return r.createData(r.dataForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",4)(8,"mat-label"),e.EFF(9,"First Name"),e.k0s(),e.nrm(10,"input",5),e.DNE(11,Dr,2,0,"mat-error",6),e.k0s(),e.j41(12,"mat-form-field",4)(13,"mat-label"),e.EFF(14,"Last Name"),e.k0s(),e.nrm(15,"input",7),e.DNE(16,Nr,2,0,"mat-error",6),e.k0s(),e.j41(17,"mat-form-field",4)(18,"mat-label"),e.EFF(19,"User Name"),e.k0s(),e.nrm(20,"input",8),e.DNE(21,$r,2,0,"mat-error",6),e.k0s(),e.j41(22,"mat-form-field",4)(23,"mat-label"),e.EFF(24,"Email"),e.k0s(),e.nrm(25,"input",9),e.DNE(26,Mr,2,0,"mat-error",6),e.k0s(),e.j41(27,"mat-label"),e.EFF(28,"Roles"),e.k0s(),e.DNE(29,Ar,3,2,"div",10),e.k0s(),e.j41(30,"mat-card-actions")(31,"button",11),e.EFF(32,"Update"),e.k0s(),e.j41(33,"button",12),e.bIt("click",function(){return r.redirectToUserList()}),e.EFF(34,"Cancel"),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.dataForm),e.R7$(6),e.Y8G("ngIf",r.validateControl("firstName")),e.R7$(5),e.Y8G("ngIf",r.validateControl("lastName")),e.R7$(5),e.Y8G("ngIf",r.validateControl("userName")),e.R7$(5),e.Y8G("ngIf",r.validateControl("email")),e.R7$(3),e.Y8G("ngForOf",r.roles),e.R7$(2),e.Y8G("disabled",!r.dataForm.valid))},dependencies:[C.Sq,C.bT,M.So,f.rl,f.nJ,f.TL,R.fg,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}return t})();var Yr=g(9331);const Or=()=>[2,4,6,10,20];function qr(t,n){1&t&&(e.j41(0,"th",18),e.EFF(1,"Name"),e.k0s())}function Br(t,n){if(1&t&&(e.j41(0,"td",19),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.name)}}function Hr(t,n){1&t&&(e.j41(0,"th",18),e.EFF(1,"Capacity"),e.k0s())}function Lr(t,n){if(1&t&&(e.j41(0,"td",19),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.capacity)}}function Xr(t,n){1&t&&(e.j41(0,"th",18),e.EFF(1,"Location"),e.k0s())}function Wr(t,n){if(1&t&&(e.j41(0,"td",19),e.EFF(1),e.k0s()),2&t){const o=n.$implicit;e.R7$(),e.JRh(o.location)}}function Jr(t,n){1&t&&(e.j41(0,"th",20),e.EFF(1,"Update"),e.k0s())}function Vr(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",19)(1,"button",21),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.redirectToUpdate(r.id))}),e.j41(2,"mat-icon",22),e.EFF(3,"system_update"),e.k0s()()()}}function zr(t,n){1&t&&(e.j41(0,"th",20),e.EFF(1,"Delete"),e.k0s())}function Kr(t,n){if(1&t){const o=e.RV6();e.j41(0,"td",19)(1,"button",23),e.bIt("click",function(){const r=e.eBV(o).$implicit,m=e.XpG();return e.Njj(m.DeleteWarehouse(r.id))}),e.j41(2,"mat-icon",22),e.EFF(3,"delete"),e.k0s()()()}}function Pr(t,n){1&t&&e.nrm(0,"tr",24)}function Qr(t,n){1&t&&e.nrm(0,"tr",25)}function eo(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function to(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function ro(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function oo(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function ao(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"capacity is required"),e.k0s())}function io(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function so(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function mo(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function lo(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"location is required"),e.k0s())}function co(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}function ho(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"capacity is required"),e.k0s())}function po(t,n){1&t&&(e.j41(0,"mat-error"),e.EFF(1,"You have more than 60 characters"),e.k0s())}const uo=[{path:"",children:[{path:"warehouse",component:(()=>{class t{constructor(o,i,r,m,d,s){this.repoService=o,this.errorService=i,this.router=r,this.dialogserve=m,this.modal=d,this.authService=s,this.errorMessage="",this.displayedColumns=["name","location","capacity","delete","update"],this.dataSource=new h.I6,this.getAllWarehouses=()=>{this.repoService.getData("api/warehouses").subscribe(l=>{this.dataSource.data=l},l=>{this.errorService.handleError(l)})},this.doFilter=l=>{this.dataSource.filter=l.trim().toLocaleLowerCase()},this.redirectToUpdate=l=>{this.authService.isUserAdmin()?this.router.navigate([`/ui-components/update-warehouse/${l}`]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}}ngOnInit(){this.getAllWarehouses()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}createWarehouse(){this.authService.isUserAdmin()?this.router.navigate(["/ui-components/add-warehouse"]):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admins allowed",okButtonText:"OK"}})}DeleteWarehouse(o){this.authService.isUserAdmin()?this.dialogserve.openConfirmDialog("Are you sure, you want to delete the warehouse ?").afterClosed().subscribe(i=>{i&&this.repoService.delete(`api/warehouses/${o}`).subscribe(m=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Warehouse deleted successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(s=>this.getAllWarehouses())})}):this.modal.show(E,{initialState:{modalHeaderText:"Error Message",modalBodyText:"Only Admin allowed",okButtonText:"OK"}})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(I),e.rXU(k.I8),e.rXU(U.k))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-warehouse"]],viewQuery:function(i,r){if(1&i&&(e.GBs(S.B4,5),e.GBs(j.iy,5)),2&i){let m;e.mGM(m=e.lsd())&&(r.sort=m.first),e.mGM(m=e.lsd())&&(r.paginator=m.first)}},decls:30,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","","matSortStart","desc",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","capacity"],["matColumnDef","location"],["matColumnDef","update"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(e.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e.EFF(3,"Warehuose List"),e.k0s(),e.nrm(4,"span",2),e.j41(5,"button",3),e.bIt("click",function(){return r.createWarehouse()}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s(),e.EFF(8,"Create new Warehouse "),e.k0s()(),e.j41(9,"mat-card-content",4)(10,"div",5)(11,"table",6),e.qex(12,7),e.DNE(13,qr,2,0,"th",8)(14,Br,2,1,"td",9),e.bVm(),e.qex(15,10),e.DNE(16,Hr,2,0,"th",8)(17,Lr,2,1,"td",9),e.bVm(),e.qex(18,11),e.DNE(19,Xr,2,0,"th",8)(20,Wr,2,1,"td",9),e.bVm(),e.qex(21,12),e.DNE(22,Jr,2,0,"th",13)(23,Vr,4,0,"td",9),e.bVm(),e.qex(24,14),e.DNE(25,zr,2,0,"th",13)(26,Kr,4,0,"td",9),e.bVm(),e.DNE(27,Pr,1,0,"tr",15)(28,Qr,1,0,"tr",16),e.k0s(),e.nrm(29,"mat-paginator",17),e.k0s()()()),2&i&&(e.R7$(11),e.Y8G("dataSource",r.dataSource),e.R7$(16),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("pageSize",4)("pageSizeOptions",e.lJ4(5,Or)))},dependencies:[c.RN,c.m2,c.MM,c.dh,b.$z,b.iY,v.An,j.iy,S.B4,S.aE,h.Zl,h.tL,h.ji,h.cC,h.YV,h.iL,h.KS,h.$R,h.YZ,h.NB],encapsulation:2})}return t})()},{path:"add-warehouse",component:(()=>{class t{constructor(o,i,r,m){this.repository=o,this.errorHandler=i,this.router=r,this.modal=m,this.errorMessage="",this.validateControl=d=>!(!this.warehouseForm.get(d).invalid||!this.warehouseForm.get(d).touched),this.hasError=(d,s)=>!!this.warehouseForm.get(d).hasError(s),this.createWarehouse=d=>{this.warehouseForm.valid&&this.executeWarehouseCreation(d)},this.executeWarehouseCreation=d=>{const s={name:d.name,location:d.location,capacity:d.capacity};console.log(s),this.repository.create("api/warehouses",s).subscribe({next:p=>{this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:`Warehuose: ${p.name} created successfully`,okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(x=>this.redirectToWarehouseList())}})},this.redirectToWarehouseList=()=>{this.router.navigate(["/ui-components/warehouse"])}}ngOnInit(){this.warehouseForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),location:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),capacity:new a.MJ("",[a.k0.required,a.k0.maxLength(60)])})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(k.I8))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-add-brand"]],decls:30,vars:8,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Warehouse name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["matInput","","type","text","placeholder","Warehouse location","formControlName","location","id","location"],["matInput","","type","text","placeholder","Warehuose capacity","formControlName","capacity","id","capacity"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Create a new Warehouse"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.createWarehouse(r.warehouseForm.value)}),e.j41(6,"mat-card-content")(7,"mat-form-field",3),e.nrm(8,"input",4),e.j41(9,"mat-hint",5),e.EFF(10,"Not more than 60 characters long."),e.k0s(),e.DNE(11,eo,2,0,"mat-error",6)(12,to,2,0,"mat-error",6),e.k0s(),e.j41(13,"mat-form-field",3),e.nrm(14,"input",7),e.j41(15,"mat-hint",5),e.EFF(16,"Not more than 60 characters long."),e.k0s(),e.DNE(17,ro,2,0,"mat-error",6)(18,oo,2,0,"mat-error",6),e.k0s(),e.j41(19,"mat-form-field",3),e.nrm(20,"input",8),e.j41(21,"mat-hint",5),e.EFF(22,"Not more than 60 characters long."),e.k0s(),e.DNE(23,ao,2,0,"mat-error",6)(24,io,2,0,"mat-error",6),e.k0s()(),e.j41(25,"mat-card-actions")(26,"button",9),e.EFF(27," Create "),e.k0s(),e.j41(28,"button",10),e.bIt("click",function(){return r.redirectToWarehouseList()}),e.EFF(29," Cancel "),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.warehouseForm),e.R7$(6),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("location","required")),e.R7$(),e.Y8G("ngIf",r.hasError("location","maxlength")),e.R7$(5),e.Y8G("ngIf",r.hasError("capacity","required")),e.R7$(),e.Y8G("ngIf",r.hasError("capacity","maxlength")),e.R7$(2),e.Y8G("disabled",!r.warehouseForm.valid))},dependencies:[C.bT,f.rl,f.MV,f.TL,R.fg,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}return t})()},{path:"update-warehouse/:id",component:(()=>{class t{constructor(o,i,r,m,d){this.repository=o,this.errorHandler=i,this.router=r,this.route=m,this.modal=d,this.errorMessage="",this.loadWarehouse=()=>{this.repository.getData(`api/warehouses/${this.warehouseId}`).subscribe({next:l=>{this.warehouseForm.patchValue(l)},error:l=>{this.errorHandler.handleError(l),this.errorMessage=this.errorHandler.errorMessage}})},this.validateControl=s=>!(!this.warehouseForm.get(s).invalid||!this.warehouseForm.get(s).touched),this.hasError=(s,l)=>!!this.warehouseForm.get(s).hasError(l),this.updateWarehouse=s=>{this.warehouseForm.valid&&this.executeWarehouseUpdate(s)},this.executeWarehouseUpdate=s=>{const l={name:s.name,id:s.id,capacity:s.capacity,location:s.location};this.repository.update(`api/warehouses/${this.warehouseId}`,l).subscribe({next:()=>{console.log(l),this.bsModalRef=this.modal.show(y.c,{initialState:{modalHeaderText:"Success Message",modalBodyText:"Warehouse updated successfully",okButtonText:"OK"}}),this.bsModalRef.content.redirectOnOk.subscribe(x=>this.redirectToWarehouseList())},error:_=>{this.errorHandler.handleError(_),this.errorMessage=this.errorHandler.errorMessage}})},this.redirectToWarehouseList=()=>{this.router.navigate(["/ui-components/warehouse"])}}ngOnInit(){this.warehouseId=this.route.snapshot.paramMap.get("id"),this.loadWarehouse(),this.warehouseForm=new a.gE({name:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),id:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),capacity:new a.MJ("",[a.k0.required,a.k0.maxLength(60)]),location:new a.MJ("",[a.k0.required,a.k0.maxLength(60)])})}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(T.U),e.rXU(w),e.rXU(F.Ix),e.rXU(F.nX),e.rXU(k.I8))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-update-warehouse"]],decls:36,vars:8,consts:[["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","500px","fxFlex.xs","100%",1,"b-1","shadow-none"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline","color","primary",1,"w-100"],["matInput","","type","text","placeholder","Warehouse name","formControlName","name","id","name"],["align","end"],[4,"ngIf"],["matInput","","type","text","placeholder","Wrehouse location","formControlName","location","id","location"],["matInput","","type","text","placeholder","Warehouse capacity","formControlName","capacity","id","capacity"],["mat-flat-button","","color","primary",1,"w-100","action-button",3,"disabled"],["type","button","mat-flat-button","","color","warn",1,"w-100",3,"click"]],template:function(i,r){1&i&&(e.j41(0,"section",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4,"Update Warehouse"),e.k0s()(),e.j41(5,"form",2),e.bIt("ngSubmit",function(){return r.updateWarehouse(r.warehouseForm.value)}),e.j41(6,"mat-card-content")(7,"label"),e.EFF(8,"Warehouse name"),e.k0s(),e.j41(9,"mat-form-field",3),e.nrm(10,"input",4),e.j41(11,"mat-hint",5),e.EFF(12,"Not more than 60 characters long."),e.k0s(),e.DNE(13,so,2,0,"mat-error",6)(14,mo,2,0,"mat-error",6),e.k0s(),e.j41(15,"label"),e.EFF(16,"Location"),e.k0s(),e.j41(17,"mat-form-field",3),e.nrm(18,"input",7),e.j41(19,"mat-hint",5),e.EFF(20,"Not more than 60 characters long."),e.k0s(),e.DNE(21,lo,2,0,"mat-error",6)(22,co,2,0,"mat-error",6),e.k0s(),e.j41(23,"label"),e.EFF(24,"Capacity"),e.k0s(),e.j41(25,"mat-form-field",3),e.nrm(26,"input",8),e.j41(27,"mat-hint",5),e.EFF(28,"Not more than 60 characters long."),e.k0s(),e.DNE(29,ho,2,0,"mat-error",6)(30,po,2,0,"mat-error",6),e.k0s()(),e.j41(31,"mat-card-actions")(32,"button",9),e.EFF(33," Update "),e.k0s(),e.j41(34,"button",10),e.bIt("click",function(){return r.redirectToWarehouseList()}),e.EFF(35," Cancel "),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.warehouseForm),e.R7$(8),e.Y8G("ngIf",r.hasError("name","required")),e.R7$(),e.Y8G("ngIf",r.hasError("name","maxlength")),e.R7$(7),e.Y8G("ngIf",r.hasError("location","required")),e.R7$(),e.Y8G("ngIf",r.hasError("location","maxlength")),e.R7$(7),e.Y8G("ngIf",r.hasError("capacity","required")),e.R7$(),e.Y8G("ngIf",r.hasError("capacity","maxlength")),e.R7$(2),e.Y8G("disabled",!r.warehouseForm.valid))},dependencies:[C.bT,f.rl,f.MV,f.TL,R.fg,c.RN,c.YY,c.m2,c.MM,c.dh,b.$z,u.DJ,u.sA,u.UI,a.qT,a.me,a.BC,a.cb,a.j4,a.JD],encapsulation:2})}return t})()},{path:"user",component:ae},{path:"add-user",component:Yr.S},{path:"update-user/:id",component:Gr},{path:"roles",component:_e},{path:"add-role",component:be},{path:"update-role/:id",component:vr},{path:"shelf",component:Me},{path:"add-shelf",component:He},{path:"update-shelf/:id",component:Ve},{path:"category",component:at},{path:"add-category",component:st},{path:"update-category/:id",component:ct},{path:"product",component:qt},{path:"add-product",component:lr},{path:"update-product/:id",component:Rr}]}];let fo=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.$C({type:t});static#r=this.\u0275inj=e.G2t({imports:[C.MD,F.iI.forChild(uo),Y.G,a.YN,a.X1,O.X.pick(q),D.WX,G._B.forRoot({timeOut:3e3,positionClass:"toast-top-right",preventDuplicates:!0,progressBar:!0,closeButton:!0})]})}return t})()}}]);